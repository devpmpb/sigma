# backend/.env.example - TEMPLATE DE VARIÃVEIS DE AMBIENTE
# Copie este arquivo para .env e configure as variÃ¡veis
# NUNCA commite o arquivo .env com valores reais!

# =============================================================================
# ğŸ—„ï¸ BANCO DE DADOS
# =============================================================================
# URL de conexÃ£o com PostgreSQL
# Formato: postgresql://usuario:senha@host:porta/nome_do_banco

# Desenvolvimento Local:
DATABASE_URL="postgresql://postgres:sua_senha@localhost:5432/sigma_dev"

# ProduÃ§Ã£o (exemplo):
# DATABASE_URL="postgresql://sigma_user:senha_forte_aqui@localhost:5432/sigma_prod"

# =============================================================================
# ğŸ” SEGURANÃ‡A E AUTENTICAÃ‡ÃƒO
# =============================================================================
# Chave secreta para tokens JWT
# âš ï¸ IMPORTANTE: NUNCA use os valores de exemplo em produÃ§Ã£o!
# âš ï¸ Gere secrets seguros com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

JWT_SECRET="GERE_UM_SECRET_SEGURO_AQUI_64_CARACTERES_MINIMO"
JWT_REFRESH_SECRET="GERE_OUTRO_SECRET_SEGURO_AQUI_64_CARACTERES_MINIMO"

# Tempo de expiraÃ§Ã£o do token de acesso
JWT_EXPIRES_IN="15m"

# Tempo de expiraÃ§Ã£o do refresh token
JWT_REFRESH_EXPIRES_IN="7d"

# =============================================================================
# ğŸŒ AMBIENTE
# =============================================================================
# Ambiente da aplicaÃ§Ã£o (development, production, test)
NODE_ENV="development"

# Porta do servidor
PORT=3001

# URL base da aplicaÃ§Ã£o
APP_URL="http://localhost:3001"

# URL do frontend (para CORS)
FRONTEND_URL="http://localhost:3000"

# =============================================================================
# ğŸ“§ EMAIL (OPCIONAL - para reset de senha e notificaÃ§Ãµes)
# =============================================================================
# ConfiguraÃ§Ãµes de email para envio de notificaÃ§Ãµes
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="seu-email@gmail.com"
SMTP_PASS="sua-senha-ou-app-password"
SMTP_FROM="noreply@sigma.com.br"

# =============================================================================
# ğŸ“ UPLOAD DE ARQUIVOS (OPCIONAL)
# =============================================================================
# DiretÃ³rio para uploads
UPLOAD_PATH="./uploads"

# Tamanho mÃ¡ximo de arquivo em MB
MAX_FILE_SIZE=10

# Tipos de arquivo permitidos (separados por vÃ­rgula)
ALLOWED_FILE_TYPES="jpg,jpeg,png,pdf,doc,docx"

# =============================================================================
# ğŸ”’ CONFIGURAÃ‡Ã•ES DE SEGURANÃ‡A
# =============================================================================
# NÃºmero mÃ¡ximo de tentativas de login antes de bloquear
MAX_LOGIN_ATTEMPTS=5

# Tempo de bloqueio em minutos
LOCKOUT_TIME=30

# Rounds para hash de senha (10-12 recomendado, quanto maior mais seguro mas mais lento)
BCRYPT_ROUNDS=10

# =============================================================================
# ğŸ“Š LOGS E MONITORAMENTO
# =============================================================================
# NÃ­vel de log (debug, info, warn, error)
LOG_LEVEL="info"

# Ativar logs detalhados de SQL (true/false)
DATABASE_LOGGING="false"

# =============================================================================
# ğŸ§ª CONFIGURAÃ‡Ã•ES DE TESTE
# =============================================================================
# Banco para testes (opcional - deixe vazio para usar o mesmo do desenvolvimento)
TEST_DATABASE_URL=""

# =============================================================================
# ğŸ”§ CONFIGURAÃ‡Ã•ES AVANÃ‡ADAS
# =============================================================================
# Timeout de conexÃ£o com banco em segundos
DATABASE_TIMEOUT=10

# Pool de conexÃµes mÃ¡ximo
DATABASE_POOL_MAX=10

# Pool de conexÃµes mÃ­nimo
DATABASE_POOL_MIN=2

# =============================================================================
# ğŸ“ EXEMPLOS DE CONFIGURAÃ‡ÃƒO POR AMBIENTE
# =============================================================================

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# DESENVOLVIMENTO LOCAL:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# DATABASE_URL="postgresql://postgres:123456@localhost:5432/sigma_dev"
# JWT_SECRET="dev_secret_key_not_for_production"
# JWT_REFRESH_SECRET="dev_refresh_secret_key_not_for_production"
# NODE_ENV="development"
# FRONTEND_URL="http://localhost:3000"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PRODUÃ‡ÃƒO (Windows Server):
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# âš ï¸ EM PRODUÃ‡ÃƒO, NÃƒO USE ARQUIVO .env!
# Configure as variÃ¡veis de ambiente diretamente no Windows Server:
#
# Via PowerShell (Administrador):
# [Environment]::SetEnvironmentVariable("DATABASE_URL", "postgresql://sigma_prod:senha_forte@localhost:5432/sigma_prod", "Machine")
# [Environment]::SetEnvironmentVariable("JWT_SECRET", "secret_gerado_com_crypto", "Machine")
# [Environment]::SetEnvironmentVariable("JWT_REFRESH_SECRET", "refresh_secret_gerado_com_crypto", "Machine")
# [Environment]::SetEnvironmentVariable("NODE_ENV", "production", "Machine")
# [Environment]::SetEnvironmentVariable("PORT", "3001", "Machine")
# [Environment]::SetEnvironmentVariable("FRONTEND_URL", "https://sigma.prefeitura.gov.br", "Machine")
# [Environment]::SetEnvironmentVariable("BCRYPT_ROUNDS", "12", "Machine")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# TESTE:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# DATABASE_URL="postgresql://postgres:123456@localhost:5432/sigma_test"
# JWT_SECRET="test_secret_key"
# JWT_REFRESH_SECRET="test_refresh_secret_key"
# NODE_ENV="test"

# =============================================================================
# âš ï¸ NOTAS DE SEGURANÃ‡A IMPORTANTES
# =============================================================================
#
# 1. ğŸ”´ NUNCA commite o arquivo .env no Git
# 2. ğŸ”´ Use senhas FORTES em produÃ§Ã£o (mÃ­nimo 16 caracteres, mix de letras, nÃºmeros e sÃ­mbolos)
# 3. ğŸ”´ SEMPRE mude as chaves JWT em produÃ§Ã£o
# 4. ğŸ”´ Use HTTPS em produÃ§Ã£o (SSL/TLS)
# 5. ğŸ”´ Configure firewall adequadamente
# 6. ğŸ”´ Use variÃ¡veis de ambiente do servidor em produÃ§Ã£o (nÃ£o arquivo .env)
# 7. ğŸ”´ FaÃ§a backup regular do banco de dados
# 8. ğŸ”´ Monitore logs de seguranÃ§a regularmente
#
# =============================================================================
# ğŸ› ï¸ COMANDOS ÃšTEIS
# =============================================================================
#
# Gerar JWT secrets seguros:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# Gerar senha aleatÃ³ria forte:
#   node -e "console.log(require('crypto').randomBytes(16).toString('base64'))"
#
# Testar conexÃ£o com banco:
#   psql "postgresql://usuario:senha@localhost:5432/sigma"
#
# Ver variÃ¡veis de ambiente no Windows:
#   Get-ChildItem Env:
#
# =============================================================================
